# BadSMTP Configuration (Environment Variables)
# All environment variables must be prefixed with BADSMTP_

# Basic Configuration
# Main port to listen on (default: 2525)
BADSMTP_PORT=2525

# Directory for storing messages in Maildir format (default: ./mailbox)
# Comment out to disable message storage
BADSMTP_MAILBOXDIR=./mailbox

# IP address to bind the listener to (default: 127.0.0.1)
# Set to 0.0.0.0 to bind all interfaces
BADSMTP_LISTEN_ADDRESS=127.0.0.1

# Port Behaviour Configuration
# These port ranges trigger specific behaviours for testing SMTP clients

# Starting port for greeting delay range (default: 25200)
# Ports 25200..25209 map to discrete delays {0s,1s,2s,8s,10s,30s,60s,120s,300s,600s}
BADSMTP_GREETINGDELAYPORTSTART=25200

# Starting port for drop delay range (default: 25600)
# Ports 25600..25609 map to the same discrete delays (offset 0 is immediate drop)
BADSMTP_DROPDELAYPORTSTART=25600

# Note: Immediate drop is represented by BADSMTP_DROPDELAYPORTSTART + offset 0 (25600)
# The previous BADSMTP_IMMEDIATEDROPPORT has been removed.

# TLS Configuration
# Port for implicit TLS (SMTPS) connections (default: 25465)
BADSMTP_TLSPORT=25465

# Port for STARTTLS connections (default: 25587)
BADSMTP_STARTTLSPORT=25587

# Hostname for TLS certificates (default: badsmtp.test)
# Used for self-signed certificate generation
BADSMTP_TLSHOSTNAME=badsmtp.test

# Optional: Path to custom TLS certificate and key files
# If not specified, self-signed certificates will be generated automatically
# BADSMTP_TLSCERTFILE=/path/to/cert.pem
# BADSMTP_TLSKEYFILE=/path/to/key.pem

# Hostname-based Routing (optional)
# Enable routing messages to different mailbox directories based on RCPT TO hostname
# BADSMTP_ENABLEHOSTNAMEROUTING=false

# Default mailbox directory for unmapped hostnames when routing is enabled
# BADSMTP_DEFAULTMAILBOXDIR=./default-mailbox

# Logging Configuration
# Log level: DEBUG, INFO, WARN, ERROR (default: INFO)
# LOG_LEVEL=INFO

# Log format: json or text (default: json)
# LOG_FORMAT=json

# Log output: stdout, syslog, tcp, udp (default: stdout)
# LOG_OUTPUT=stdout

# Remote address for tcp/udp logging
# LOG_REMOTE_ADDR=localhost:514

# Syslog facility (default: mail)
# SYSLOG_FACILITY=mail

# Include trace information in logs (default: false)
# LOG_TRACE=false